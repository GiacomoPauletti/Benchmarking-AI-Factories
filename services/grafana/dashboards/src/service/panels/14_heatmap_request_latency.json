{
  "datasource": {
    "type": "prometheus",
    "uid": "prom"
  },
  "fieldConfig": {
    "defaults": {
      "custom": {
        "hideFrom": {
          "legend": false,
          "tooltip": false,
          "viz": false
        },
        "scaleDistribution": {
          "type": "linear"
        }
      }
    },
    "overrides": []
  },
  "gridPos": {
    "h": 6,
    "w": 6,
    "x": 18,
    "y": 23
  },
  "id": 15,
  "options": {
    "calculate": false,
    "calculation": {
      "xBuckets": {
        "mode": "auto"
      },
      "yBuckets": {
        "scale": {
          "log": 2,
          "type": "log"
        }
      }
    },
    "cellGap": 1,
    "cellValues": {
      "unit": "s"
    },
    "color": {
      "exponent": 0.5,
      "fill": "dark-orange",
      "max": 1,
      "min": 0,
      "mode": "scheme",
      "reverse": true,
      "scale": "exponential",
      "scheme": "Magma",
      "steps": 64
    },
    "exemplars": {
      "color": "rgba(255,0,255,0.7)"
    },
    "filterValues": {
      "le": 1e-09
    },
    "legend": {
      "show": true
    },
    "rowsFrame": {
      "layout": "auto",
      "value": "Latency"
    },
    "tooltip": {
      "mode": "single",
      "showColorScale": false,
      "yHistogram": false
    },
    "yAxis": {
      "axisPlacement": "left",
      "reverse": false
    }
  },
  "pluginVersion": "12.3.0",
  "targets": [
    {
      "editorMode": "code",
      "expr": "sum by(le) (rate(vllm:e2e_request_latency_seconds_bucket{service_id=\"$service\"}[$__rate_interval]))",
      "legendFormat": "{{le}}",
      "range": true,
      "refId": "A"
    }
  ],
  "title": "Heatmap request latency",
  "type": "heatmap"
}