{
  "datasource": {
    "type": "prometheus",
    "uid": "prom"
  },
  "fieldConfig": {
    "defaults": {
      "actions": [
        {
          "confirmation": "Are you sure you want to cancel the service",
          "fetch": {
            "body": "{ \"status\": \"cancelled\" }",
            "headers": [
              [
                "Content-Type",
                "application/json"
              ]
            ],
            "method": "POST",
            "queryParams": [],
            "url": "http://${server}:${port}/api/v1/services/${__series.name}/status"
          },
          "style": {
            "backgroundColor": "#F2495C"
          },
          "title": "Cancel service",
          "type": "fetch"
        }
      ],
      "color": {
        "fixedColor": "#7d7d7d",
        "mode": "fixed"
      },
      "custom": {
        "axisPlacement": "auto",
        "fillOpacity": 70,
        "hideFrom": {
          "legend": false,
          "tooltip": false,
          "viz": false
        },
        "insertNulls": false,
        "lineWidth": 0,
        "spanNulls": 60000
      },
      "fieldMinMax": false,
      "links": [
        {
          "oneClick": false,
          "targetBlank": true,
          "title": "Details",
          "url": "/d/adr8rsf/service?orgId=1&timezone=browser&var-server=${server:queryparam}\ufeff&var-port=\ufeff${port:queryparam}\ufeff&var-service=${__field.name}"
        }
      ],
      "mappings": [
        {
          "options": {
            "building": {
              "color": "blue",
              "index": 3,
              "text": "Building\u2026"
            },
            "cancelled": {
              "color": "yellow",
              "index": 6,
              "text": "Cancelled"
            },
            "completed": {
              "color": "dark-green",
              "index": 5,
              "text": "Completed"
            },
            "failed": {
              "color": "dark-red",
              "index": 7,
              "text": "Failed !"
            },
            "pending": {
              "color": "dark-blue",
              "index": 1,
              "text": "Pending\u2026"
            },
            "running": {
              "color": "green",
              "index": 4,
              "text": "Running"
            },
            "starting": {
              "color": "super-light-blue",
              "index": 2,
              "text": "Starting\u2026"
            },
            "unknown": {
              "color": "#808080",
              "index": 0,
              "text": "Unknown"
            }
          },
          "type": "value"
        }
      ],
      "thresholds": {
        "mode": "absolute",
        "steps": [
          {
            "color": "green",
            "value": 0
          }
        ]
      }
    },
    "overrides": []
  },
  "gridPos": {
    "h": 7,
    "w": 24,
    "x": 0,
    "y": 0
  },
  "id": 4,
  "options": {
    "alignValue": "left",
    "legend": {
      "displayMode": "list",
      "placement": "bottom",
      "showLegend": true
    },
    "mergeValues": true,
    "rowHeight": 0.95,
    "showValue": "auto",
    "tooltip": {
      "hideZeros": false,
      "mode": "single",
      "sort": "none"
    }
  },
  "pluginVersion": "12.3.0",
  "targets": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prom"
      },
      "editorMode": "builder",
      "expr": "process_start_time_seconds{instance=\"server:8001\"}",
      "instant": false,
      "legendFormat": "__auto",
      "range": true,
      "refId": "A"
    }
  ],
  "title": "Services (click on service to view or cancel it)",
  "transformations": [
    {
      "id": "labelsToFields",
      "options": {
        "keepLabels": [
          "status",
          "service_id"
        ],
        "mode": "columns"
      }
    },
    {
      "id": "filterFieldsByName",
      "options": {
        "byVariable": false,
        "include": {
          "names": [
            "service_id",
            "status",
            "Time"
          ]
        }
      }
    },
    {
      "id": "merge",
      "options": {}
    },
    {
      "id": "groupingToMatrix",
      "options": {
        "columnField": "service_id",
        "emptyValue": "null",
        "rowField": "Time",
        "valueField": "status"
      }
    }
  ],
  "type": "state-timeline"
}